import { twMerge } from "tailwind-merge";

/**
 * A React component that renders a colored dot representing different levels of vulnerability.
 * The color of the dot changes based on the `type` prop.
 *
 * @param props - The properties object.
 * @param props.type - The type of vulnerability, which determines the color of the dot.
 * @param props.className - Optional additional class names to apply to the dot.
 *
 * @returns A JSX element representing a vulnerability dot.
 */
export default function VulnerabilityDot(props: {
  type: string;
  className?: string;
}) {
  let color = "#fff";
  if (props.type === "low") {
    color = "#97BE6C";
  } else if (props.type === "moderate") {
    color = "#E8C360";
  } else if (props.type === "high (low-mod Exposure)") {
    color = "#DD7C75";
  } else if (props.type === "high (low-mod Sensitivity)") {
    color = "#DD7C75";
  } else if (props.type === "high (mod-high Adapt. capacity)") {
    color = "#DD7C75";
  } else if (props.type === "high") {
    color = "#DD7C75";
  } else if (props.type === "very high") {
    color = "#DE1355";
  }
  return (
    <span
      className={twMerge(
        `shrink-0 group rounded-full relative mt-[4px] h-4 w-4 ml-[10px] mr-[10px]`,
        props.className,
      )}
      style={{ background: color }}
    >
      <span
        className="absolute hidden group-hover:block -top-2 left-full border border-black text-black backdrop-blur px-2 py-1 text-[12px] w-fit whitespace-nowrap"
        style={{ background: color }}
      >
        {props.type} vulnerability
      </span>
    </span>
  );
}
